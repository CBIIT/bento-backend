- Protocol: HTTP
    Port: 80
    DefaultActions:
      - Type: redirect
        RedirectConfig:
          Protocol: HTTPS
          Port: "443"
          Host: "#{host}"
          Path: "/#{path}"
          Query: "#{query}"
          StatusCode: "HTTP_301"


- Protocol: HTTPS
    Port: 443
    DefaultActions:
      - Type: fixed-response
        FixedResponseConfig:
          ContentType: "text/plain"
          MessageBody: "This is the page you're looking for"
          StatusCode: "200"                 



- name: create application load balancer
  elb_application_lb:
    name: "{{ application_load_balancer.name }}"
    security_groups: "{{ security_group_id_list }}"
    subnets: "{{ subnet_id_list }}"
    listeners: "{{ application_load_balancer.listeners }}"
    deletion_protection: yes
    state: present