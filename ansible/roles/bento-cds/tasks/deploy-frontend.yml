---
#install aws collection
- name: install ansible collections
  include_role:
    name: common
    tasks_from: collections

#docker login
- name: docker login
  include_role:
    name: common
    tasks_from: ecr-login

- name: deploy ecs
  include_role:
    name: common
    tasks_from: ecs
  vars:
    container_name: "{{ frontend_container_name }}"
    image_version: "{{ frontend_image_version }}"
    container_image: "{{ frontend_container_image }}"
    container_entrypoint:
    container_port: "{{ frontend_container_port }}"
    container_memory: "{{ frontend_container_memory }}"
    container_cpu: "{{  frontend_container_cpu  }}"
