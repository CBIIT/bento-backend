---
# tasks file for cicd
# - name: copy application_example.properties to application.properties
#   copy:
#     remote_src: yes
#     src: "{{workspace}}/src/main/resources/application_example.properties"
#     dest: "{{workspace}}/src/main/resources/application.properties"

- name: remove the application_example.properties file 
  file:
    path: "{{workspace}}/src/main/resources/application_example.properties"
    state: absent

- name: copy application.properties file to /src/main/resources/
  template:
    src: application.properties.j2
    dest: "{{workspace}}/src/main/resources/application.properties"
    
- name: cat application.properties
  command: cat "{{workspace}}/src/main/resources/application.properties"
  register: properties_file

- name: show properties file
  debug:
    msg: "{{properties_file.stdout}}"