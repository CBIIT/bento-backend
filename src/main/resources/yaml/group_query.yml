groups:
  - name: searchSubjects
    query:
    - name: numberOfPrograms
      index:
        - subjects
      filterType:
        type: aggregation
#        selectedField: program
        selectedField: programs
      resultType: int_total_aggregation
    - name: numberOfStudies
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: studies
#        selectedField: study_info
      resultType: int_total_aggregation
    - name: numberOfSubjects
      index:
        - subjects
      filterType:
        # Get total number of documents in ES index
        type: number_of_docs
      resultType: int_total_count
    - name: numberOfSamples
      index:
        - subjects
      filterType:
        type: nested
        selectedField: sample_ids
#        selectedField: sample_id
        nestedPath: sample_info
        nestedFields:
          - composition
          - tissue_type
#      filterType:
#        # Get total number of documents in ES index
#        type: number_of_docs
      resultType: nested_total
    - name: numberOfLabProcedures
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: lab_procedures
      resultType: int_total_aggregation
    - name: numberOfFiles
      index:
        - subjects
      filterType:
        type: nested
        selectedField: file_ids
#        selectedField: file_id
        nestedPath: file_info
        nestedFields:
          - file_type
      resultType: nested_total
    - name: subjectCountByProgram
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: programs
#        selectedField: program
      resultType: aggregation
    - name: filterSubjectCountByProgram
      index:
        - subjects
      filterType:
        type: aggregation
        # Filter query without selected field
#        selectedField: program
        selectedField: programs
        filter: true
      resultType: aggregation
    - name: subjectCountByStudy
      index:
        - subjects
      filterType:
        type: aggregation
        # Filter query without selected field
        selectedField: studies
#        selectedField: study_info
      resultType: aggregation
    - name: filterSubjectCountByStudy
      index:
        - subjects
      filterType:
        type: aggregation
        # Filter query without selected field
        selectedField: studies
#        selectedField: study_info
        filter: true
      resultType: aggregation
    - name: subjectCountByDiagnoses
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: diagnoses
#        selectedField: diagnosis
      resultType: aggregation
    - name: filterSubjectCountByDiagnoses
      index:
        - subjects
      filterType:
        type: aggregation
        # Filter query without selected field
        selectedField: diagnoses
#        selectedField: diagnosis
        filter: true
      resultType: aggregation
    - name: subjectCountByRecurrenceScore
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: rc_scores
#        selectedField: recurrence_score
      resultType: aggregation
    - name: filterSubjectCountByRecurrenceScore
      index:
        - subjects
      filterType:
        type: aggregation
        # Filter query without selected field
        selectedField: rc_scores
        #        selectedField: recurrence_score
        filter: true
      resultType: aggregation
    - name: subjectCountByTumorSize
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: tumor_sizes
#        selectedField: tumor_size
      resultType: aggregation
    - name: filterSubjectCountByTumorSize
      index:
        - subjects
      filterType:
        type: aggregation
        # Filter query without selected field
        selectedField: tumor_sizes
        #        selectedField: tumor_size
        filter: true
      resultType: aggregation
    - name: subjectCountByTumorGrade
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: tumor_grade
        #        selectedField: tumor_grade
      resultType: aggregation
    - name: filterSubjectCountByTumorGrade
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: tumor_grade
        #        selectedField: tumor_grade
        filter: true
      resultType: aggregation
    - name: subjectCountByErStatus
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: er_status
      resultType: aggregation
    - name: filterSubjectCountByErStatus
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: er_status
        filter: true
      resultType: aggregation
    - name: subjectCountByPrStatus
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: pr_status
      resultType: aggregation
    - name: filterSubjectCountByPrStatus
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: pr_status
        filter: true
      resultType: aggregation
    - name: subjectCountByChemotherapyRegimen
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: chemo_regimen
#        selectedField: chemotherapy
      resultType: aggregation
    - name: filterSubjectCountByChemotherapyRegimen
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: chemo_regimen
        #        selectedField: chemotherapy
        filter: true
      resultType: aggregation
    - name: subjectCountByEndocrineTherapy
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: endo_therapies
        #        selectedField: endocrine_therapy
      resultType: aggregation
    - name: filterSubjectCountByEndocrineTherapy
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: endo_therapies
        #        selectedField: endocrine_therapy
        filter: true
      resultType: aggregation
    - name: subjectCountByMenopauseStatus
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: meno_status
        #        selectedField: menopause_status
      resultType: aggregation
    - name: filterSubjectCountByMenopauseStatus
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: meno_status
        #        selectedField: menopause_status
        filter: true
      resultType: aggregation
    - name: subjectCountByTissueType
      index:
        - subjects
      filterType:
        type: nested
        selectedField: tissue_type
        nestedPath: sample_info
      resultType: nested_list
    - name: filterSubjectCountByTissueType
      index:
        - subjects
      filterType:
        type: nested
        filter: true
        selectedField: tissue_type
        nestedPath: sample_info
        nestedFields:
          - tissue_type
      resultType: nested_list
    - name: subjectCountByTissueComposition
      index:
        - subjects
      filterType:
        type: nested
        selectedField: composition
        nestedPath: sample_info
      resultType: nested_list
    - name: filterSubjectCountByTissueComposition
      index:
        - subjects
      filterType:
        type: nested
        filter: true
        selectedField: composition
        nestedPath: sample_info
        nestedFields:
          - composition
      resultType: nested_list
    - name: subjectCountByFileAssociation
      index:
        - subjects
      filterType:
        type: nested
        selectedField: association
        nestedPath: file_info
        nestedFields:
          - file_type
      resultType: nested_list
    - name: filterSubjectCountByFileAssociation
      index:
        - subjects
      filterType:
        type: nested
        selectedField: association
        filter: true
        nestedPath: file_info
        nestedFields:
          - file_type
      resultType: nested_list
    - name: subjectCountByFileType
      index:
        - subjects
      filterType:
        type: nested
        selectedField: file_type
        nestedPath: file_info
      resultType: nested_list
    - name: filterSubjectCountByFileType
      index:
        - subjects
      filterType:
        type: nested
        selectedField: file_type
        filter: true
        nestedPath: file_info
        nestedFields:
          - file_type
      resultType: nested_list
    - name: armsByPrograms
      index:
        - subjects
      filterType:
        type: sub_aggregation
        selectedField: programs
#        selectedField: program
        subAggSelectedField: study_acronym
      resultType: arm_program
    - name: subjectCountByLabProcedures
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: lab_procedures
      resultType: aggregation
    - name: filterSubjectCountByLabProcedures
      index:
        - subjects
      filterType:
        type: aggregation
        selectedField: lab_procedures
        filter: true
      resultType: aggregation
    - name: filterSubjectCountByAge
      index:
        - subjects
      filterType:
        type: range
        selectedField: age_at_index
        filter: true
      resultType: range
