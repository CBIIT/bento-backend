# Query Parameters Required
  # index: Declare Elasticsearch Index Name
  # name: Declare GraphQl Query Name
  # filterType: Declare Type of GraphQl Query
  # resultType: Declare Desired Return Type

# Filter Type
  # - default
    # Required: selectedField
  # - table
    # Required: none
    # Optional: defaultSortField, prioritySort
  # - aggregation
    # Required: selectedField
    # Optional: filter
  # - number_of_docs
    # Required: none
  # - range
    # Required: selectedField
    # Optional: filter
  # - sub_aggregation
    # Required: selectedField, subAggSelectedField
  # - global
    # Required: defaultSortField, query
      # query
        # Required: field, type
          # type includes elements with term, match, and wildcard
    # Optional: optionalQuery
      # query: same rules applied as required above

# Return Type
  # - default @return List<Map<String, Object>>
  # - aggregation @return List<Map<String, Object>>
  # - int_total_aggregation @return Integer
  # - range @return Map<String, Object>
    # ex) {lowerBound: 0.00, upperBound: 0.00, subjects: XXX}
  # - arm_program @return List<Map<String, Object>>
  # - int_total_count @return Long
  # - str_list @return List<String>
  # - global_about @return Map<String, Object>
    # ex) {type: about, page: XXXX, title: XXXX, text, XXXX}
  # - global @return Map<String, Object>
    # ex) {result: {A: XX, B: X...}, count: 9999}
  # - global_multi_models @Map<String, Object>
    #  ex) {result: {A: XX, B: X...}, count: 9999}

# Highlight
  # Pre-requisite: Global Filter Type
  # highlight:
    # Required: fields
      # declare list of Strings to highlight
    # Optional: fragmentSize, preTag, postTag, fragmentSize

# Query Pairing Must be Filter Type <-> Return Type
  # default <-> default, str_list
  # table <-> default
  # sub_aggregation <-> arm_program
  # aggregation <-> aggregation, int_total_aggregation, int_total_count
  # range <-> range
  # global <-> global, global_multi_models

# Detailed Explanation
  # prioritySort: sort desired field alternatively, especially sorting texts containing number
query:
  #  numberOfStudyFiles: Int @cypher(statement: "MATCH (n:file)-->(sd:study) RETURN count (n)")
  # TODO
  #  volumeOfData: Float @cypher(statement: "MATCH (f:file) WITH DISTINCT f return sum(f.file_size)")

  - name: numberOfStudies
#    todo needs filter
    index:
      - studies
    filterType:
      # Get total number of documents in ES index
      selectedField: clinical_study_designation
      type: number_of_docs
    resultType: int_total_count
  - name: numberOfCases
    #    todo needs filter
    index:
      - cases
    filterType:
      # Get total number of documents in ES index
      type: number_of_docs
    resultType: int_total_count
  - name: numberOfSamples
    #    todo needs filter
    index:
      - samples
    filterType:
      # Get total number of documents in ES index
      type: number_of_docs
    resultType: int_total_count
  - name: numberOfFiles
    index:
      - files
    filterType:
      # Get total number of documents in ES index
      type: number_of_docs
    resultType: int_total_count
  - name: numberOfStudyFiles
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: study_files
    resultType: int_total_aggregation
  - name: numberOfPrograms
    index:
      - program
    filterType:
      # Get total number of documents in ES index
      type: number_of_docs
    resultType: int_total_count
#    TODO
#  - name: numberOfAliquots
#    index:
#      - aliquot
#    filterType:
#      # Get total number of documents in ES index
#      type: number_of_docs
#    resultType: int_total_count
  - name: volumeOfData
    index:
      - cases
    filterType:
      type: nested_sum
      selectedField: file_size
      filter: true
      nestedPath: files_info
      nestedFields:
        - file_type
        - file_association
        - file_format
    resultType: nested_sum
  - name: caseCountByGender
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: sex
    resultType: icdc_aggregation
  - name: caseCountByBreed
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: breed
    resultType: icdc_aggregation
  - name: caseCountByNeuteredStatus
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: neutered_status
    resultType: icdc_aggregation
  - name: caseCountByStageOfDisease
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: stage_of_disease
    resultType: icdc_aggregation
  - name: caseCountByDiseaseSite
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: disease_site
    resultType: icdc_aggregation
  - name: caseCountByDiagnosis
    index:
      - cases
    filterType:
      type: aggregation
      selectedField: diagnosis
    resultType: icdc_aggregation

  - name: filterCaseCountByProgram
    index:
      - cases
    filterType:
      type: nested
      selectedField: program
      filter: true
      nestedPath: program_info
      nestedFields:
        - program_acronym
    resultType: icdc_nested_list
  - name: filterCaseCountByStudyType
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: study_type
    resultType: icdc_aggregation
  - name: filterCaseCountByDiagnosis
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: diagnosis
    resultType: icdc_aggregation
  - name: filterCaseCountByDiseaseSite
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: disease_site
    resultType: icdc_aggregation
  - name: filterCaseCountByStageOfDisease
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: stage_of_disease
    resultType: icdc_aggregation
  - name: filterCaseCountByResponseToTreatment
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: response_to_treatment
    resultType: icdc_aggregation
  - name: filterCaseCountBySex
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: sex
    resultType: icdc_aggregation
  - name: filterCaseCountByNeuteredStatus
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: neutered_status
    resultType: icdc_aggregation
  - name: filterCaseCountBySampleType
    index:
      - cases
    filterType:
      type: nested
      selectedField: sample_type
      filter: true
      nestedPath: samples_info
      nestedFields:
        - sample_type
        - sample_site
        - sample_pathology
    resultType: icdc_nested_list
  - name: filterCaseCountBySamplePathology
    index:
      - cases
    filterType:
      type: nested
      selectedField: sample_pathology
      filter: true
      nestedPath: samples_info
      nestedFields:
        - sample_type
        - sample_site
        - sample_pathology
    resultType: icdc_nested_list
  - name: filterCaseCountBySampleSite
    index:
      - cases
    filterType:
      type: nested
      selectedField: sample_site
      filter: true
      nestedPath: samples_info
      nestedFields:
        - sample_type
        - sample_site
        - sample_pathology
    resultType: icdc_nested_list
  - name: filterCaseCountByFileAssociation
    index:
      - cases
    filterType:
      type: nested
      selectedField: association
      filter: true
      nestedPath: files_info
      nestedFields:
        - association
        - file_type
        - file_format
    resultType: icdc_nested_list
  - name: filterCaseCountByFileType
    index:
      - cases
    filterType:
      type: nested
      selectedField: file_type
      filter: true
      nestedPath: files_info
      nestedFields:
        - association
        - file_type
        - file_format
    resultType: icdc_nested_list
  - name: filterCaseCountByFileFormat
    index:
      - cases
    filterType:
      type: nested
      selectedField: file_format
      filter: true
      nestedPath: files_info
      nestedFields:
        - association
        - file_type
        - file_format
    resultType: icdc_nested_list
  - name: filterCaseCountByStudyParticipation
    index:
      - cases
    filterType:
      type: aggregation
      filter: true
      selectedField: canine_individual
    resultType: icdc_aggregation
  - name: caseOverviewPaged
    index:
      - cases
    filterType:
      type: table
      defaultSortField: case_id
      sortDirection: asc
    resultType: default
  - name: caseOverviewPagedDesc
    index:
      - cases
    filterType:
      type: table
      defaultSortField: case_id
      sortDirection: desc
    resultType: default
  - name: sampleOverview
    index:
      - samples
    filterType:
      type: table
      defaultSortField: sample_ids
      sortDirection: asc
    resultType: default
  - name: sampleOverviewDesc
    index:
      - samples
    filterType:
      type: table
      defaultSortField: sample_ids
      sortDirection: desc
    resultType: default
  - name: fileOverview
    index:
      - files
    filterType:
      type: table
      defaultSortField: file_name
      sortDirection: asc
    resultType: default
  - name: fileOverviewDesc
    index:
      - files
    filterType:
      type: table
      defaultSortField: file_name
      sortDirection: desc
    resultType: default